let firstRowKeys = [
  {
    key: '`',
    keyCode: 192,
    which: 192,
    code: 'Backquote',
    keyShift: '~',
    keyRu: 'ё',
    keyRuShift: 'Ё'

  },
  {
    key: '1',
    keyCode: 49,
    which: 49,
    code: 'Digit1',
    keyShift: '!',
    keyRu: '1',
    keyRuShift: '!'
  },
  {
    key: '2',
    keyCode: 50,
    which: 50,
    code: 'Digit2',
    keyShift: '@',
    keyRu: '2',
    keyRuShift: '"'
  },
  {
    key: '3',
    keyCode: 51,
    which: 51,
    code: 'Digit3',
    keyShift: '#',
    keyRu: '3',
    keyRuShift: '№'
  }, {
    key: '4',
    keyCode: 52,
    which: 52,
    code: 'Digit4',
    keyShift: '$',
    keyRu: '4',
    keyRuShift: '4'
  },
  {
    key: '5',
    keyCode: 53,
    which: 53,
    code: 'Digit5',
    keyShift: '%',
    keyRu: '5',
    keyRuShift: '5'
  },
  {
    key: '6',
    keyCode: 54,
    which: 54,
    code: 'Digit6',
    keyShift: '^',
    keyRu: '6',
    keyRuShift: '6'
  },
  {
    key: '7',
    keyCode: 55,
    which: 55,
    code: 'Digit7',
    keyShift: '&',
    keyRu: '7',
    keyRuShift: '7'
  },
  {
    key: '8',
    keyCode: 56,
    which: 56,
    code: 'Digit8',
    keyShift: '*',
    keyRu: '8',
    keyRuShift: '*'
  },
  {
    key: '9',
    keyCode: 57,
    which: 57,
    code: 'Digit9',
    keyShift: '(',
    keyRu: '9',
    keyRuShift: '('
  },
  {
    key: '0',
    keyCode: 48,
    which: 48,
    code: 'Digit0',
    keyShift: ')',
    keyRu: '0',
    keyRuShift: ')'
  },
  {
    key: '-',
    keyCode: 109,
    which: 109,
    code: 'Minus',
    keyShift: '_',
    keyRu: '-',
    keyRuShift: '_'
  },
  {
    key: '=',
    keyCode: 61,
    which: 61,
    code: 'Equal',
    keyShift: '+',
    keyRu: '=',
    keyRuShift: '+'
  },
  {
    key: 'Backspace',
    keyCode: 8,
    which: 8,
    code: 'Backspace',
    keyShift: 'Backspace',
    keyRu: 'Backspace',
    keyRuShift: 'Backspace'
  }
];
let secondRowKeys = [{
  key: 'Tab',
  keyCode: 9,
  which: 9,
  code: 'Tab',
  keyShift: 'Tab',
  keyRu: 'Tab',
  keyRuShift: 'Tab'
},
{
  key: 'q',
  keyCode: 81,
  which: 81,
  code: 'KeyQ',
  keyShift: 'Q',
  keyRu: 'й',
  keyRuShift: 'Й'
},
{
  key: 'w',
  keyCode: 87,
  which: 87,
  code: 'KeyW',
  keyShift: 'W',
  keyRu: 'ц',
  keyRuShift: 'Ц'
},
{
  key: 'e',
  keyCode: 69,
  which: 69,
  code: 'KeyE',
  keyShift: 'E',
  keyRu: 'у',
  keyRuShift: 'У'
},
{
  key: 'r',
  keyCode: 82,
  which: 82,
  code: 'KeyR',
  keyShift: 'R',
  keyRu: 'к',
  keyRuShift: 'К'
},
{
  key: 't',
  keyCode: 84,
  which: 84,
  code: 'KeyT',
  keyShift: 'T',
  keyRu: 'е',
  keyRuShift: 'Е'
},
{
  key: 'y',
  keyCode: 89,
  which: 89,
  code: 'KeyY',
  keyShift: 'Y',
  keyRu: 'н',
  keyRuShift: 'Н'
},
{
  key: 'u',
  keyCode: 85,
  which: 85,
  code: 'KeyU',
  keyShift: 'U',
  keyRu: 'г',
  keyRuShift: 'Г'
},
{
  key: 'i',
  keyCode: 73,
  which: 73,
  code: 'KeyI',
  keyShift: 'I',
  keyRu: 'ш',
  keyRuShift: 'Ш'
},
{
  key: 'o',
  keyCode: 79,
  which: 79,
  code: 'KeyO',
  keyShift: 'O',
  keyRu: 'щ',
  keyRuShift: 'Щ'
},
{
  key: 'p',
  keyCode: 80,
  which: 80,
  code: 'KeyP',
  keyShift: 'P',
  keyRu: 'з',
  keyRuShift: 'З'
},
{
  key: '[',
  keyCode: 160,
  which: 160,
  code: 'BracketLeft',
  keyShift: '{',
  keyRu: 'х',
  keyRuShift: 'Х'
},
{
  key: ']',
  keyCode: 221,
  which: 221,
  code: 'BracketRight',
  keyShift: '}',
  keyRu: 'ъ',
  keyRuShift: 'Ъ'
},
{
  key: '\\',
  keyCode: 220,
  which: 220,
  code: 'Backslash',
  keyShift: '|',
  keyRu: '\\',
  keyRuShift: '/'
},
{
  key: 'Delete',
  keyCode: 46,
  which: 46,
  code: 'Delete',
  keyShift: 'Delete',
  keyRu: 'Delete',
  keyRuShift: 'Delete'
}
];
let thirdRowKeys = [
  {
    key: 'CapsLock',
    keyCode: 20,
    which: 20,
    code: 'CapsLock',
    keyShift: 'CapsLock',
    keyRu: 'CapsLock',
    keyRuShift: 'CapsLock'
  },
  {
    key: 'a',
    keyCode: 65,
    which: 65,
    code: 'KeyA',
    keyShift: 'A',
    keyRu: 'ф',
    keyRuShift: 'Ф'
  },
  {
    key: 's',
    keyCode: 83,
    which: 83,
    code: 'KeyS',
    keyShift: 'S',
    keyRu: 'ы',
    keyRuShift: 'Ы'
  },
  {
    key: 'd',
    keyCode: 68,
    which: 68,
    code: 'KeyD',
    keyShift: 'D',
    keyRu: 'в',
    keyRuShift: 'В'
  },
  {
    key: 'f',
    keyCode: 70,
    which: 70,
    code: 'KeyF',
    keyShift: 'F',
    keyRu: 'а',
    keyRuShift: 'А'
  },
  {
    key: 'g',
    keyCode: 71,
    which: 71,
    code: 'KeyG',
    keyShift: 'G',
    keyRu: 'п',
    keyRuShift: 'П'
  },
  {
    key: 'h',
    keyCode: 72,
    which: 72,
    code: 'KeyH',
    keyShift: 'H',
    keyRu: 'р',
    keyRuShift: 'Р'
  },
  {
    key: 'j',
    keyCode: 74,
    which: 74,
    code: 'KeyJ',
    keyShift: 'J',
    keyRu: 'о',
    keyRuShift: 'О'
  },
  {
    key: 'k',
    keyCode: 75,
    which: 75,
    code: 'KeyK',
    keyShift: 'K',
    keyRu: 'л',
    keyRuShift: 'Л'
  },
  {
    key: 'l',
    keyCode: 76,
    which: 76,
    code: 'KeyL',
    keyShift: 'L',
    keyRu: 'д',
    keyRuShift: 'Д'
  }, {
    key: ';',
    keyCode: 59,
    which: 59,
    code: 'Semicolon',
    keyShift: ':',
    keyRu: 'ж',
    keyRuShift: 'Ж'
  }, {
    key: "'",
    keyCode: 222,
    which: 222,
    code: 'Quote',
    keyShift: '"',
    keyRu: 'э',
    keyRuShift: 'Э'
  }, {
    key: 'Enter',
    keyCode: 13,
    which: 13,
    code: 'Enter',
    keyShift: 'Enter',
    keyRu: 'Enter',
    keyRuShift: 'Enter'
  }
];
let fourthRowKeys = [
  {
    key: 'Shift',
    keyCode: 16,
    which: 16,
    code: 'ShiftLeft',
    keyShift: 'Shift',
    keyRu: 'Shift',
    keyRuShift: 'Shift'
  },
  {
    key: '\\',
    keyCode: 220,
    which: 220,
    code: 'IntlBackslash',
    keyShift: '|',
    keyRu: '\\',
    keyRuShift: '/'
  },
  {
    key: 'z',
    keyCode: 90,
    which: 90,
    code: 'KeyZ',
    keyShift: 'Z',
    keyRu: 'я',
    keyRuShift: 'Я'
  },
  {
    key: 'x',
    keyCode: 88,
    which: 88,
    code: 'KeyX',
    keyShift: 'X',
    keyRu: 'ч',
    keyRuShift: 'Ч'
  },
  {
    key: 'c',
    keyCode: 67,
    which: 67,
    code: 'KeyC',
    keyShift: 'C',
    keyRu: 'с',
    keyRuShift: 'С'
  },
  {
    key: 'v',
    keyCode: 86,
    which: 86,
    code: 'KeyV',
    keyShift: 'V',
    keyRu: 'м',
    keyRuShift: 'М'
  },
  {
    key: 'b',
    keyCode: 66,
    which: 66,
    keyShift: 'B',
    keyRu: 'и',
    keyRuShift: 'И'
  },
  {
    key: 'n',
    keyCode: 78,
    which: 78,
    code: 'KeyN',
    keyShift: 'N',
    keyRu: 'т',
    keyRuShift: 'Т'
  },
  {
    key: 'm',
    keyCode: 77,
    which: 77,
    code: 'KeyM',
    keyShift: 'M',
    keyRu: 'ь',
    keyRuShift: 'Ь'
  },
  {
    key: ',',
    keyCode: 108,
    which: 108,
    code: 'Comma',
    keyShift: '<',
    keyRu: 'б',
    keyRuShift: 'Б'
  },
  {
    key: '.',
    keyCode: 190,
    which: 190,
    code: 'Period',
    keyShift: '>',
    keyRu: 'ю',
    keyRuShift: 'Ю'
  },
  {
    key: '/',
    keyCode: 191,
    which: 191,
    code: 'Slash',
    keyShift: '?',
    keyRu: '.',
    keyRuShift: ','
  },
  {
    key: 'ArrowUp',
    keyCode: 38,
    which: 38,
    code: 'ArrowUp',
    keyShift: 'ArrowUp',
    keyRu: 'ArrowUp',
    keyRuShift: 'ArrowUp'
  },
  {
    key: 'Shift',
    keyCode: 16,
    which: 16,
    code: 'ShiftRight',
    keyShift: 'Shift',
    keyRu: 'Shift',
    keyRuShift: 'Shift'
  }
];
let fifthRowKeys = [
  {
    key: 'Control',
    keyCode: 17,
    which: 17,
    code: 'ControlLeft',
    keyShift: 'Control',
    keyRu: 'Control',
    keyRuShift: 'Control'
  },
  {
    key: 'Meta',
    keyCode: 91,
    which: 91,
    code: 'MetaLeft',
    keyShift: 'Meta',
    keyRu: 'Meta',
    keyRuShift: 'Meta'
  },
  {
    key: 'Alt',
    keyCode: 18,
    which: 18,
    code: 'AltLeft',
    keyShift: 'Alt',
    keyRu: 'Alt',
    keyRuShift: 'Alt'
  },
  {
    key: ' ',
    keyCode: 32,
    which: 32,
    code: 'Space',
    keyShift: ' ',
    keyRu: ' ',
    keyRuShift: ' '
  },
  {
    key: 'Alt',
    keyCode: 18,
    which: 18,
    code: 'AltRight',
    keyShift: 'Alt',
    keyRu: 'Alt',
    keyRuShift: 'Alt'
  },
  {
    key: 'ArrowLeft',
    keyCode: 37,
    which: 37,
    code: 'ArrowLeft',
    keyShift: 'ArrowLeft',
    keyRu: 'ArrowLeft',
    keyRuShift: 'ArrowLeft'
  },
  {
    key: 'ArrowDown',
    keyCode: 40,
    which: 40,
    code: 'ArrowDown',
    keyShift: 'ArrowDown',
    keyRu: 'ArrowDown',
    keyRuShift: 'ArrowDown'
  },
  {
    key: 'ArrowRight',
    keyCode: 39,
    which: 39,
    code: 'ArrowRight',
    keyShift: 'ArrowRight',
    keyRu: 'ArrowRight',
    keyRuShift: 'ArrowRight'
  },
  {
    key: 'Control',
    keyCode: 17,
    which: 17,
    code: 'ControlRight',
    keyShift: 'Control ',
    keyRu: 'Control ',
    keyRuShift: 'Control'
  }
];
function init() {
  document.querySelector('body').innerHTML = '<div class="_container wrapper"><textarea name="textarea" class="textarea" id="textarea" rows="20"></textarea><div id="keyboard" class="keyboard"><div class="keyboard__keys"><div class="row first-row"></div><div class="row second-row"></div><div class="row third-row"></div><div class="row fourth-row"></div><div class="row fifth-row"></div></div></div><p class = "info">OC Windows</p><p class = "info">ctrl+alt (слева) - переключение языка</p></div>';
}
function initEn() {
  document.querySelector('body').classList.add('initEn');
  document.querySelector('body').classList.remove('initEnShift', 'initRu', 'initRuShift');
  localStorage.setItem('lang', 'en');
  let firstRow = document.querySelector('.first-row');
  let secondRow = document.querySelector('.second-row');
  let thirdRow = document.querySelector('.third-row');
  let fourthRow = document.querySelector('.fourth-row');
  let fifthRow = document.querySelector('.fifth-row');
  let firstRowButtons = '';
  let secondRowButtons = '';
  let thirdRowButtons = '';
  let fourthRowButtons = '';
  let fifthRowButtons = '';
  for (let i = 0; i < firstRowKeys.length; i += 1) {
    if (firstRowKeys[i].key === 'Backspace') {
      firstRowButtons += '<div class = "key backspace-key" data = "' + firstRowKeys[i].code + '">' + firstRowKeys[i].key + '</div>';
    } else {
      firstRowButtons += '<div class = "key" data = "' + firstRowKeys[i].code + '">' + firstRowKeys[i].key + '</div>';
    }
  }
  for (let i = 0; i < secondRowKeys.length; i += 1) {
    if (secondRowKeys[i].key === 'Tab') {
      secondRowButtons += '<div class = "key tab-key" data = "' + secondRowKeys[i].code + '">' + secondRowKeys[i].key + '</div>';
    } else if (secondRowKeys[i].key === '\\') {
      secondRowButtons += '<div class = "key slash-key" data = "' + secondRowKeys[i].code + '">' + secondRowKeys[i].key + '</div>';
    } else if (secondRowKeys[i].key === 'Delete') {
      secondRowButtons += '<div class = "key delete-key" data = "' + secondRowKeys[i].code + '">Del</div>';
    } else {
      secondRowButtons += '<div class = "key" data = "' + secondRowKeys[i].code + '">' + secondRowKeys[i].key + '</div>';
    }
  }
  for (let i = 0; i < thirdRowKeys.length; i += 1) {
    if (thirdRowKeys[i].key === 'CapsLock') {
      thirdRowButtons += '<div class = "key capslock-key" data = "' + thirdRowKeys[i].code + '">' + thirdRowKeys[i].key + '</div>';
    } else if (thirdRowKeys[i].key === 'Enter') {
      thirdRowButtons += '<div class = "key enter-key" data = "' + thirdRowKeys[i].code + '">' + thirdRowKeys[i].key + '</div>';
    } else {
      thirdRowButtons += '<div class = "key" data = "' + thirdRowKeys[i].code + '">' + thirdRowKeys[i].key + '</div>';
    }
  }
  for (let i = 0; i < fourthRowKeys.length; i += 1) {
    if (fourthRowKeys[i].key === 'Shift') {
      fourthRowButtons += '<div class = "key shift-key" data = "' + fourthRowKeys[i].code + '">' + fourthRowKeys[i].key + '</div>';
    } else if (fourthRowKeys[i].key === 'ArrowUp') {
      fourthRowButtons += '<div class = "key arrow-up-key" data = "' + fourthRowKeys[i].code + '">&#9650;</div>';
    } else {
      fourthRowButtons += '<div class = "key" data = "' + fourthRowKeys[i].code + '">' + fourthRowKeys[i].key + '</div>';
    }
  }
  for (let i = 0; i < fifthRowKeys.length; i += 1) {
    if (fifthRowKeys[i].key === 'Control') {
      fifthRowButtons += '<div class = "key ctrl-key" data = "' + fifthRowKeys[i].code + '">Ctrl</div>';
    } else if (fifthRowKeys[i].key === 'Meta') {
      fifthRowButtons += '<div class = "key win-key" data = "' + fifthRowKeys[i].code + '">Win</div>';
    } else if (fifthRowKeys[i].key === 'Alt') {
      fifthRowButtons += '<div class = "key alt-key" data = "' + fifthRowKeys[i].code + '">' + fifthRowKeys[i].key + '</div>';
    } else if (fifthRowKeys[i].key === ' ') {
      fifthRowButtons += '<div class = "key space-key" data = "' + fifthRowKeys[i].code + '">' + fifthRowKeys[i].key + '</div>';
    } else if (fifthRowKeys[i].key === 'ArrowLeft') {
      fifthRowButtons += '<div class = "key arrow-left-key" data = "' + fifthRowKeys[i].code + '">&#9668;</div>';
    } else if (fifthRowKeys[i].key === 'ArrowDown') {
      fifthRowButtons += '<div class = "key arrow-down-key" data = "' + fifthRowKeys[i].code + '">&#9660;</div>';
    } else if (fifthRowKeys[i].key === 'ArrowRight') {
      fifthRowButtons += '<div class = "key arrow-right-key" data = "' + fifthRowKeys[i].code + '">&#9658;</div>';
    } else {
      fifthRowButtons += '<div class = "key" data = "' + fifthRowKeys[i].code + '">' + fifthRowKeys[i].key + '</div>';
    }
  }
  firstRow.innerHTML = firstRowButtons;
  secondRow.innerHTML = secondRowButtons;
  thirdRow.innerHTML = thirdRowButtons;
  fourthRow.innerHTML = fourthRowButtons;
  fifthRow.innerHTML = fifthRowButtons;
  print();
}
function initEnShift() {
  document.querySelector('body').classList.add('initEnShift');
  document.querySelector('body').classList.remove('initEn', 'initRu', 'initRuShift');
  localStorage.setItem('lang', 'enUp');
  let firstRow = document.querySelector('.first-row');
  let secondRow = document.querySelector('.second-row');
  let thirdRow = document.querySelector('.third-row');
  let fourthRow = document.querySelector('.fourth-row');
  let fifthRow = document.querySelector('.fifth-row');
  let firstRowButtons = '';
  let secondRowButtons = '';
  let thirdRowButtons = '';
  let fourthRowButtons = '';
  let fifthRowButtons = '';
  for (let i = 0; i < firstRowKeys.length; i += 1) {
    if (firstRowKeys[i].key === 'Backspace') {
      firstRowButtons += '<div class = "key backspace-key" data = "' + firstRowKeys[i].code + '">' + firstRowKeys[i].keyShift + '</div>';
    } else {
      firstRowButtons += '<div class = "key" data = "' + firstRowKeys[i].code + '">' + firstRowKeys[i].keyShift + '</div>';
    }
  }
  for (let i = 0; i < secondRowKeys.length; i += 1) {
    if (secondRowKeys[i].key === 'Tab') {
      secondRowButtons += '<div class = "key tab-key" data = "' + secondRowKeys[i].code + '">' + secondRowKeys[i].keyShift + '</div>';
    } else if (secondRowKeys[i].key === '\\') {
      secondRowButtons += '<div class = "key slash-key" data = "' + secondRowKeys[i].code + '">' + secondRowKeys[i].keyShift + '</div>';
    } else if (secondRowKeys[i].key === 'Delete') {
      secondRowButtons += '<div class = "key delete-key" data = "' + secondRowKeys[i].code + '">Del</div>';
    } else {
      secondRowButtons += '<div class = "key" data = "' + secondRowKeys[i].code + '">' + secondRowKeys[i].keyShift + '</div>';
    }
  }
  for (let i = 0; i < thirdRowKeys.length; i += 1) {
    if (thirdRowKeys[i].key === 'CapsLock') {
      thirdRowButtons += '<div class = "key capslock-key capslock-active" data = "' + thirdRowKeys[i].code + '">' + thirdRowKeys[i].keyShift + '</div>';
    } else if (thirdRowKeys[i].key === 'Enter') {
      thirdRowButtons += '<div class = "key enter-key" data = "' + thirdRowKeys[i].code + '">' + thirdRowKeys[i].keyShift + '</div>';
    } else {
      thirdRowButtons += '<div class = "key" data = "' + thirdRowKeys[i].code + '">' + thirdRowKeys[i].keyShift + '</div>';
    }
  }
  for (let i = 0; i < fourthRowKeys.length; i += 1) {
    if (fourthRowKeys[i].key === 'Shift') {
      fourthRowButtons += '<div class = "key shift-key" data = "' + fourthRowKeys[i].code + '">' + fourthRowKeys[i].keyShift + '</div>';
    } else if (fourthRowKeys[i].key === 'ArrowUp') {
      fourthRowButtons += '<div class = "key arrow-up-key" data = "' + fourthRowKeys[i].code + '">&#9650;</div>';
    } else {
      fourthRowButtons += '<div class = "key" data = "' + fourthRowKeys[i].code + '">' + fourthRowKeys[i].keyShift + '</div>';
    }
  }
  for (let i = 0; i < fifthRowKeys.length; i += 1) {
    if (fifthRowKeys[i].key === 'Control') {
      fifthRowButtons += '<div class = "key ctrl-key" data = "' + fifthRowKeys[i].code + '">Ctrl</div>';
    } else if (fifthRowKeys[i].key === 'Meta') {
      fifthRowButtons += '<div class = "key win-key" data = "' + fifthRowKeys[i].code + '">Win</div>';
    } else if (fifthRowKeys[i].key === 'Alt') {
      fifthRowButtons += '<div class = "key alt-key" data = "' + fifthRowKeys[i].code + '">' + fifthRowKeys[i].key + '</div>';
    } else if (fifthRowKeys[i].key === ' ') {
      fifthRowButtons += '<div class = "key space-key" data = "' + fifthRowKeys[i].code + '">' + fifthRowKeys[i].key + '</div>';
    } else if (fifthRowKeys[i].key === 'ArrowLeft') {
      fifthRowButtons += '<div class = "key arrow-left-key" data = "' + fifthRowKeys[i].code + '">&#9668;</div>';
    } else if (fifthRowKeys[i].key === 'ArrowDown') {
      fifthRowButtons += '<div class = "key arrow-down-key" data = "' + fifthRowKeys[i].code + '">&#9660;</div>';
    } else if (fifthRowKeys[i].key === 'ArrowRight') {
      fifthRowButtons += '<div class = "key arrow-right-key" data = "' + fifthRowKeys[i].code + '">&#9658;</div>';
    } else {
      fifthRowButtons += '<div class = "key" data = "' + fifthRowKeys[i].code + '">' + fifthRowKeys[i].keyShift + '</div>';
    }
  }
  firstRow.innerHTML = firstRowButtons;
  secondRow.innerHTML = secondRowButtons;
  thirdRow.innerHTML = thirdRowButtons;
  fourthRow.innerHTML = fourthRowButtons;
  fifthRow.innerHTML = fifthRowButtons;
  print();
}
function initRu() {
  document.querySelector('body').classList.add('initRu');
  document.querySelector('body').classList.remove('initEn', 'initEnShift', 'initRuShift');
  localStorage.setItem('lang', 'ru');
  let firstRow = document.querySelector('.first-row');
  let secondRow = document.querySelector('.second-row');
  let thirdRow = document.querySelector('.third-row');
  let fourthRow = document.querySelector('.fourth-row');
  let fifthRow = document.querySelector('.fifth-row');
  let firstRowButtons = '';
  let secondRowButtons = '';
  let thirdRowButtons = '';
  let fourthRowButtons = '';
  let fifthRowButtons = '';
  for (let i = 0; i < firstRowKeys.length; i += 1) {
    if (firstRowKeys[i].key === 'Backspace') {
      firstRowButtons += '<div class = "key backspace-key" data = "' + firstRowKeys[i].code + '">' + firstRowKeys[i].keyRu + '</div>';
    } else {
      firstRowButtons += '<div class = "key" data = "' + firstRowKeys[i].code + '">' + firstRowKeys[i].keyRu + '</div>';
    }
  }
  for (let i = 0; i < secondRowKeys.length; i += 1) {
    if (secondRowKeys[i].key === 'Tab') {
      secondRowButtons += '<div class = "key tab-key" data = "' + secondRowKeys[i].code + '">' + secondRowKeys[i].keyRu + '</div>';
    } else if (secondRowKeys[i].key === '\\') {
      secondRowButtons += '<div class = "key slash-key" data = "' + secondRowKeys[i].code + '">' + secondRowKeys[i].keyRu + '</div>';
    } else if (secondRowKeys[i].key === 'Delete') {
      secondRowButtons += '<div class = "key delete-key" data = "' + secondRowKeys[i].code + '">Del</div>';
    } else {
      secondRowButtons += '<div class = "key" data = "' + secondRowKeys[i].code + '">' + secondRowKeys[i].keyRu + '</div>';
    }
  }
  for (let i = 0; i < thirdRowKeys.length; i += 1) {
    if (thirdRowKeys[i].key === 'CapsLock') {
      thirdRowButtons += '<div class = "key capslock-key" data = "' + thirdRowKeys[i].code + '">' + thirdRowKeys[i].keyRu + '</div>';
    } else if (thirdRowKeys[i].key === 'Enter') {
      thirdRowButtons += '<div class = "key enter-key" data = "' + thirdRowKeys[i].code + '">' + thirdRowKeys[i].keyRu + '</div>';
    } else {
      thirdRowButtons += '<div class = "key" data = "' + thirdRowKeys[i].code + '">' + thirdRowKeys[i].keyRu + '</div>';
    }
  }
  for (let i = 0; i < fourthRowKeys.length; i += 1) {
    if (fourthRowKeys[i].key === 'Shift') {
      fourthRowButtons += '<div class = "key shift-key" data = "' + fourthRowKeys[i].code + '">' + fourthRowKeys[i].keyRu + '</div>';
    } else if (fourthRowKeys[i].key === 'ArrowUp') {
      fourthRowButtons += '<div class = "key arrow-up-key" data = "' + fourthRowKeys[i].code + '">&#9650;</div>';
    } else {
      fourthRowButtons += '<div class = "key" data = "' + fourthRowKeys[i].code + '">' + fourthRowKeys[i].keyRu + '</div>';
    }
  }
  for (let i = 0; i < fifthRowKeys.length; i += 1) {
    if (fifthRowKeys[i].key === 'Control') {
      fifthRowButtons += '<div class = "key ctrl-key" data = "' + fifthRowKeys[i].code + '">Ctrl</div>';
    } else if (fifthRowKeys[i].key === 'Meta') {
      fifthRowButtons += '<div class = "key win-key" data = "' + fifthRowKeys[i].code + '">Win</div>';
    } else if (fifthRowKeys[i].key === 'Alt') {
      fifthRowButtons += '<div class = "key alt-key" data = "' + fifthRowKeys[i].code + '">' + fifthRowKeys[i].keyRu + '</div>';
    } else if (fifthRowKeys[i].key === ' ') {
      fifthRowButtons += '<div class = "key space-key" data = "' + fifthRowKeys[i].code + '">' + fifthRowKeys[i].keyRu + '</div>';
    } else if (fifthRowKeys[i].key === 'ArrowLeft') {
      fifthRowButtons += '<div class = "key arrow-left-key" data = "' + fifthRowKeys[i].code + '">&#9668;</div>';
    } else if (fifthRowKeys[i].key === 'ArrowDown') {
      fifthRowButtons += '<div class = "key arrow-down-key" data = "' + fifthRowKeys[i].code + '">&#9660;</div>';
    } else if (fifthRowKeys[i].key === 'ArrowRight') {
      fifthRowButtons += '<div class = "key arrow-right-key" data = "' + fifthRowKeys[i].code + '">&#9658;</div>';
    } else {
      fifthRowButtons += '<div class = "key" data = "' + fifthRowKeys[i].code + '">' + fifthRowKeys[i].keyRu + '</div>';
    }
  }
  firstRow.innerHTML = firstRowButtons;
  secondRow.innerHTML = secondRowButtons;
  thirdRow.innerHTML = thirdRowButtons;
  fourthRow.innerHTML = fourthRowButtons;
  fifthRow.innerHTML = fifthRowButtons;
  print();
}
function initRuShift() {
  document.querySelector('body').classList.add('initRuShift');
  document.querySelector('body').classList.remove('initEn', 'initEnShift', 'initRu');
  localStorage.setItem('lang', 'ruUp');
  let firstRow = document.querySelector('.first-row');
  let secondRow = document.querySelector('.second-row');
  let thirdRow = document.querySelector('.third-row');
  let fourthRow = document.querySelector('.fourth-row');
  let fifthRow = document.querySelector('.fifth-row');
  let firstRowButtons = '';
  let secondRowButtons = '';
  let thirdRowButtons = '';
  let fourthRowButtons = '';
  let fifthRowButtons = '';
  for (let i = 0; i < firstRowKeys.length; i += 1) {
    if (firstRowKeys[i].key === 'Backspace') {
      firstRowButtons += '<div class = "key backspace-key" data = "' + firstRowKeys[i].code + '">' + firstRowKeys[i].keyRuShift + '</div>';
    } else {
      firstRowButtons += '<div class = "key" data = "' + firstRowKeys[i].code + '">' + firstRowKeys[i].keyRuShift + '</div>';
    }
  }
  for (let i = 0; i < secondRowKeys.length; i += 1) {
    if (secondRowKeys[i].key === 'Tab') {
      secondRowButtons += '<div class = "key tab-key" data = "' + secondRowKeys[i].code + '">' + secondRowKeys[i].keyRuShift + '</div>';
    } else if (secondRowKeys[i].key === '\\') {
      secondRowButtons += '<div class = "key slash-key" data = "' + secondRowKeys[i].code + '">' + secondRowKeys[i].keyRuShift + '</div>';
    } else if (secondRowKeys[i].key === 'Delete') {
      secondRowButtons += '<div class = "key delete-key" data = "' + secondRowKeys[i].code + '">Del</div>';
    } else {
      secondRowButtons += '<div class = "key" data = "' + secondRowKeys[i].code + '">' + secondRowKeys[i].keyRuShift + '</div>';
    }
  }
  for (let i = 0; i < thirdRowKeys.length; i += 1) {
    if (thirdRowKeys[i].key === 'CapsLock') {
      thirdRowButtons += '<div class = "key capslock-key capslock-active" data = "' + thirdRowKeys[i].code + '">' + thirdRowKeys[i].keyRuShift + '</div>';
    } else if (thirdRowKeys[i].key === 'Enter') {
      thirdRowButtons += '<div class = "key enter-key" data = "' + thirdRowKeys[i].code + '">' + thirdRowKeys[i].keyRuShift + '</div>';
    } else {
      thirdRowButtons += '<div class = "key" data = "' + thirdRowKeys[i].code + '">' + thirdRowKeys[i].keyRuShift + '</div>';
    }
  }
  for (let i = 0; i < fourthRowKeys.length; i += 1) {
    if (fourthRowKeys[i].key === 'Shift') {
      fourthRowButtons += '<div class = "key shift-key" data = "' + fourthRowKeys[i].code + '">' + fourthRowKeys[i].keyRuShift + '</div>';
    } else if (fourthRowKeys[i].key === 'ArrowUp') {
      fourthRowButtons += '<div class = "key arrow-up-key" data = "' + fourthRowKeys[i].code + '">&#9650;</div>';
    } else {
      fourthRowButtons += '<div class = "key" data = "' + fourthRowKeys[i].code + '">' + fourthRowKeys[i].keyRuShift + '</div>';
    }
  }
  for (let i = 0; i < fifthRowKeys.length; i += 1) {
    if (fifthRowKeys[i].key === 'Control') {
      fifthRowButtons += '<div class = "key ctrl-key" data = "' + fifthRowKeys[i].code + '">Ctrl</div>';
    } else if (fifthRowKeys[i].key === 'Meta') {
      fifthRowButtons += '<div class = "key win-key" data = "' + fifthRowKeys[i].code + '">Win</div>';
    } else if (fifthRowKeys[i].key === 'Alt') {
      fifthRowButtons += '<div class = "key alt-key" data = "' + fifthRowKeys[i].code + '">' + fifthRowKeys[i].keyRuShift + '</div>';
    } else if (fifthRowKeys[i].key === ' ') {
      fifthRowButtons += '<div class = "key space-key" data = "' + fifthRowKeys[i].code + '">' + fifthRowKeys[i].keyRuShift + '</div>';
    } else if (fifthRowKeys[i].key === 'ArrowLeft') {
      fifthRowButtons += '<div class = "key arrow-left-key" data = "' + fifthRowKeys[i].code + '">&#9668;</div>';
    } else if (fifthRowKeys[i].key === 'ArrowDown') {
      fifthRowButtons += '<div class = "key arrow-down-key" data = "' + fifthRowKeys[i].code + '">&#9660;</div>';
    } else if (fifthRowKeys[i].key === 'ArrowRight') {
      fifthRowButtons += '<div class = "key arrow-right-key" data = "' + fifthRowKeys[i].code + '">&#9658;</div>';
    } else {
      fifthRowButtons += '<div class = "key" data = "' + fifthRowKeys[i].code + '">' + fifthRowKeys[i].keyRuShift + '</div>';
    }
  }
  firstRow.innerHTML = firstRowButtons;
  secondRow.innerHTML = secondRowButtons;
  thirdRow.innerHTML = thirdRowButtons;
  fourthRow.innerHTML = fourthRowButtons;
  fifthRow.innerHTML = fifthRowButtons;
  print();
}
let lang = localStorage.getItem('lang');
init();
initEn();
if (lang === 'en') {
  initEn();
} else if (lang === 'enUp') {
  initEnShift();
} else if (lang === 'ru') {
  initRu();
} else if (lang === 'ruUp') {
  initRuShift();
}
function print() {
  let allKeys = document.querySelectorAll('.key');
  let textarea = document.querySelector('#textarea');
  document.onkeydown = function (event) {
    event.preventDefault();
    textarea.focus();
    allKeys.forEach(function (el) {
      el.classList.remove('active');
    });
    let code = event.key;
    if (event.code === 'Tab' || event.code === 'Space') {
      code = ' ';
    } else if (event.code === 'AltLeft' || event.code === 'AltRight' || event.code === 'ControlLeft' || event.code === 'ControlRight') {
      code = '';
    } else if (event.code === 'Enter') {
      code = '\n';
    } else if (event.code === 'Tab' || event.code === 'Escape' || event.code === 'MetaLeft' || event.code === 'F1' || event.code === 'F2' || event.code === 'F3' || event.code === 'F4' || event.code === 'F5' || event.code === 'F6' || event.code === 'F7' || event.code === 'F8' || event.code === 'F9' || event.code === 'F10' || event.code === 'F11' || event.code === 'F12' || event.code === 'ScrollLock' || event.code === 'Pause' || event.code === 'NumpadSubtract' || event.code === 'NumpadAdd' || event.code === 'Numpad1' || event.code === 'Numpad2' || event.code === 'Numpad3' || event.code === 'Numpad4' || event.code === 'Numpad5' || event.code === 'Numpad6' || event.code === 'Numpad7' || event.code === 'Numpad8' || event.code === 'Numpad9' || event.code === 'Numpad0' || event.code === 'NumpadDecimal') {
      code = '';
    } else if (event.code === 'ArrowUp') {
      code = '▲';
    } else if (event.code === 'ArrowLeft') {
      code = '◄';
    } else if (event.code === 'ArrowDown') {
      code = '▼';
    } else if (event.code === 'ArrowRight') {
      code = '►';
    } else if (event.code === 'Backspace' || event.code === 'Delete') {
      let lastSymbolDel = textarea.value.slice(0, -1);
      code = '';
      textarea.value = lastSymbolDel;
    } else if ((event.code === 'ShiftLeft' || event.code === 'ShiftRight') && document.querySelector('body').classList.contains('initEn')) {
      initEnShift();
      code = '';
    } else if ((event.code === 'ShiftLeft' || event.code === 'ShiftRight') && document.querySelector('body').classList.contains('initRu')) {
      initRuShift();
      code = '';
    } else if (event.code === 'CapsLock' && document.querySelector('body').classList.contains('initEn')) {
      initEnShift();
      code = '';
    } else if (event.code === 'CapsLock' && document.querySelector('body').classList.contains('initEnShift')) {
      initEn();
      code = '';
    } else if (event.code === 'CapsLock' && document.querySelector('body').classList.contains('initRu')) {
      initRuShift();
      code = '';
    } else if (event.code === 'CapsLock' && document.querySelector('body').classList.contains('initRuShift')) {
      initRu();
      code = '';
    }
    textarea.value += code;
    document.querySelector('.key[data="' + event.code + '"]').classList.add('active');
  };
  document.onkeyup = function (event) {
    document.querySelector('.key[data="' + event.code + '"]').classList.remove('active');
    if ((event.code === 'ShiftLeft' || event.code === 'ShiftRight') && document.querySelector('body').classList.contains('initEnShift')) {
      initEn();
    } else if ((event.code === 'ShiftLeft' || event.code === 'ShiftRight') && document.querySelector('body').classList.contains('initRuShift')) {
      initRu();
    }
  };
  allKeys.forEach(function (item) {
    item.addEventListener('mousedown', function () {
      textarea.focus();
      textarea.selectionStart = textarea.selectionEnd;
      allKeys.forEach(function (el) {
        el.classList.remove('active');
      });
      let code = this.innerText;
      if (this.getAttribute('data') === 'Tab' || this.getAttribute('data') === 'Space') {
        code = ' ';
      } else if (this.getAttribute('data') === 'AltLeft' || this.getAttribute('data') === 'AltRight' || this.getAttribute('data') === 'ControlLeft' || this.getAttribute('data') === 'ControlRight') {
        code = '';
      } else if (this.getAttribute('data') === 'Enter') {
        code = '\n';
      } else if (this.getAttribute('data') === 'Backspace' || this.getAttribute('data') === 'Delete') {
        let lastSymbolDel = textarea.value.slice(0, -1);
        code = '';
        textarea.value = lastSymbolDel;
      } else if (this.getAttribute('data') === 'MetaLeft') {
        code = '';
      } else if ((this.getAttribute('data') === 'ShiftLeft' || this.getAttribute('data') === 'ShiftRight') && document.querySelector('body').classList.contains('initEn')) {
        initEnShift();
        code = '';
      } else if ((this.getAttribute('data') === 'ShiftLeft' || this.getAttribute('data') === 'ShiftRight') && document.querySelector('body').classList.contains('initRu')) {
        initRuShift();
        code = '';
      } else if (this.getAttribute('data') === 'CapsLock' && document.querySelector('body').classList.contains('initEn')) {
        initEnShift();
        code = '';
      } else if (this.getAttribute('data') === 'CapsLock' && document.querySelector('body').classList.contains('initEnShift')) {
        initEn();
        code = '';
      } else if (this.getAttribute('data') === 'CapsLock' && document.querySelector('body').classList.contains('initRu')) {
        initRuShift();
        code = '';
      } else if (this.getAttribute('data') === 'CapsLock' && document.querySelector('body').classList.contains('initRuShift')) {
        initRu();
        code = '';
      }
      this.classList.add('active');

      textarea.value += code;
    });
    item.addEventListener('mouseup', function () {
      allKeys.forEach(function (el) {
        el.classList.remove('active');
      });
      if ((this.getAttribute('data') === 'ShiftLeft' || this.getAttribute('data') === 'ShiftRight') && document.querySelector('body').classList.contains('initEnShift')) {
        initEn();
      } else if ((this.getAttribute('data') === 'ShiftLeft' || this.getAttribute('data') === 'ShiftRight') && document.querySelector('body').classList.contains('initRuShift')) {
        initRu();
      }
    });
  });
}
onload = function () {
  let keyAlt = 0;
  let keyControl = 0;
  document.body.focus();
  document.body.onkeyup = function () { keyAlt = 0; keyControl = 0; };

  document.body.onkeydown = function (e) {
    if (e.code === 'AltLeft') keyAlt = 1;
    else if (e.code === 'ControlLeft') keyControl = 1;
    if (keyAlt && keyControl && document.querySelector('body').classList.contains('initRuShift')) initEnShift();
    else if (keyAlt && keyControl && document.querySelector('body').classList.contains('initEnShift')) initRuShift();
    else if (keyAlt && keyControl && document.querySelector('body').classList.contains('initRu')) initEn();
    else if (keyAlt && keyControl && document.querySelector('body').classList.contains('initEn')) initRu();
  };
};
